<div class="box">
  <h1>Admin Dashboard</h1>
  <%= render "shared/dashboard" %>
<p>
  Need to edit a users information?
</p>
  <%= form_tag(admin_dashboard_path, :method => "get", id: "search-form") do %>
  <%= text_field_tag :search, params[:search], placeholder: "Search By Username" %>
  <%= submit_tag "User Search" %>
  <% end %>
  <% if params[:search].nil? %>
  <p>There are no users with that user name.</p>
  <% else %>
  <% @edit_users.each do |user| %>
    <%= user.username %> <%= button_to "Edit User Information", edit_user_path(user), method: "get" %>
    <% end %>
  <% end %>
  <div>
    <div class="btn-group">
      <button type="button" class="btn btn-default brown-btn" id="pending">
        Pending Vendors
        <span class="badge"><%= @vendors.count %></span>
      </button>
      <button type="button" class="btn btn-default brown-btn" id="all">
        All Orders
        <span class="badge"><%= @orders.count %></span>
      </button>
      <button type="button" class="btn btn-default brown-btn" id="order">
        Ordered
        <span class="badge"><%= @orders.total(0) %></span>
      </button>
      <button type="button" class="btn btn-default brown-btn" id="pay">
        Paid
        <span class="badge"><%= @orders.total(1) %></span>
        </button>
        <button type="button" class="btn btn-default brown-btn" id="cancel">
          Cancelled
          <span class="badge"><%= @orders.total(2) %></span>
        </button>
        <button type="button" class="btn btn-default brown-btn" id="complete">
          Completed
          <span class="badge"><%= @orders.total(3) %></span>
        </button>
    </div>
  </div>

    <table class="table order_table" id="pending_orders">
      <th>Vendor Name</th>
      <th>Vendor Satus</th>

      <% @vendors.each do |vendor| %>
        <tr>
          <td> <%= link_to vendor.name, vendor_show_path(vendor.slug), class: "text-muted order" %> </td>
          <td> <%= vendor.status %> </td>
        </tr>
      <% end %>
    </table>

    <table class="table order_table" id="all_orders">
      <th>Order Number</th>
      <th>Order Status</th>

      <% @orders.each do |order| %>
        <tr>
          <td><%= link_to order.id, order_path(order), class: "text-muted order" %></td>
          <td><%= order.status %></td>
        </tr>
      <% end %>
    </table>
  </div>

<%= render partial: 'order_table', locals: {orders: @orders, order_status: "ordered", status_number: 0} %>
<%= render partial: 'order_table', locals: {orders: @orders, order_status: "paid", status_number: 1} %>
<%= render partial: 'order_table', locals: {orders: @orders, order_status: "cancelled", status_number: 2} %>
<%= render partial: 'order_table', locals: {orders: @orders, order_status: "completed", status_number: 3} %>
